<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÿ™ÿ∞ŸÉŸäÿ± | ÿßŸÑÿØŸäŸàÿßŸÜ ÿßŸÑÿ¨ÿßŸÖÿπŸä</title>
    
    <link rel="shortcut icon" href="logo.png" type="image/x-icon">
    
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+Arabic:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">
    
    <style>
        :root {
            --glass-bg: rgba(30, 30, 30, 0.6);
            --glass-border: rgba(255, 255, 255, 0.1);
            --text-white: #ffffff;
            --text-gray: #a1a1aa;
            --accent: #2563eb;
        }

        body {
            margin: 0; padding: 0;
            font-family: 'IBM Plex Sans Arabic', sans-serif;
            height: 100vh;
            display: flex; justify-content: center; align-items: center;
            background: url('https://images.unsplash.com/photo-1518066000714-58c45f1a2c0a?q=80&w=2070&auto=format&fit=crop') no-repeat center center;
            background-size: cover;
            overflow: hidden; position: relative;
        }

        body::before {
            content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(0, 0, 0, 0.5); z-index: 0;
        }

        .star-field { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 1; }

        /* --- ÿ£ŸÜŸÖÿßÿ∑ ÿßŸÑŸÜÿ¨ŸàŸÖ --- */
        .stars1 { width: 2px; height: 2px; background: transparent; box-shadow: 1746px 1643px #FFF , 543px 1482px #FFF , 1471px 1166px #FFF , 1154px 398px #FFF , 1887px 1347px #FFF , 255px 799px #FFF , 843px 413px #FFF , 1627px 1567px #FFF , 1503px 25px #FFF , 433px 1236px #FFF , 290px 1440px #FFF , 744px 737px #FFF , 72px 267px #FFF , 1099px 1602px #FFF , 1713px 833px #FFF , 872px 1777px #FFF , 1637px 735px #FFF , 1919px 1515px #FFF , 1634px 820px #FFF , 1276px 1491px #FFF , 252px 29px #FFF , 1717px 439px #FFF , 606px 1763px #FFF , 1326px 1101px #FFF , 701px 1067px #FFF , 1849px 1526px #FFF , 1331px 1742px #FFF , 1718px 1511px #FFF , 1074px 1738px #FFF , 1018px 935px #FFF , 1818px 327px #FFF , 57px 363px #FFF , 545px 685px #FFF , 1148px 1016px #FFF , 655px 1250px #FFF , 1604px 1797px #FFF , 551px 1739px #FFF , 990px 369px #FFF , 910px 1362px #FFF , 1480px 159px #FFF , 180px 525px #FFF , 1940px 695px #FFF , 1847px 751px #FFF , 1665px 664px #FFF , 746px 542px #FFF , 1611px 71px #FFF , 510px 522px #FFF , 462px 1275px #FFF , 1707px 1572px #FFF , 1336px 1548px #FFF , 1801px 1064px #FFF , 1899px 347px #FFF , 1002px 97px #FFF , 602px 1662px #FFF , 1888px 33px #FFF , 1567px 857px #FFF , 1192px 27px #FFF , 1739px 73px #FFF , 755px 1653px #FFF , 97px 121px #FFF , 128px 1722px #FFF , 27px 739px #FFF , 1220px 326px #FFF , 661px 1027px #FFF , 627px 272px #FFF , 1325px 1747px #FFF , 1358px 349px #FFF , 621px 1470px #FFF , 528px 901px #FFF , 1573px 378px #FFF , 789px 1692px #FFF , 818px 1426px #FFF , 1345px 1133px #FFF , 1344px 1670px #FFF , 1716px 631px #FFF , 975px 454px #FFF , 175px 1130px #FFF , 722px 757px #FFF , 504px 1176px #FFF , 154px 342px #FFF , 1628px 1390px #FFF , 1139px 309px #FFF , 201px 362px #FFF , 421px 134px #FFF , 830px 528px #FFF , 141px 249px #FFF , 1412px 1717px #FFF , 1873px 1205px #FFF , 1231px 263px #FFF , 517px 1150px #FFF , 1562px 937px #FFF , 929px 938px #FFF , 194px 1171px #FFF , 1790px 1140px #FFF , 1065px 807px #FFF , 917px 1675px #FFF , 163px 241px #FFF , 826px 232px #FFF , 788px 624px #FFF; animation: animStar 25s linear infinite; }
        .stars2 { width: 3px; height: 3px; background: transparent; box-shadow: 1605px 1452px #FFF , 305px 1658px #FFF , 577px 1272px #FFF , 83px 59px #FFF , 647px 1183px #FFF , 706px 536px #FFF , 1321px 1773px #FFF , 336px 1789px #FFF , 1742px 205px #FFF , 1297px 658px #FFF , 104px 1212px #FFF , 1859px 1461px #FFF , 579px 48px #FFF , 175px 1207px #FFF , 431px 268px #FFF , 277px 631px #FFF , 1715px 1578px #FFF , 1104px 1734px #FFF , 940px 1438px #FFF , 1082px 736px #FFF , 1177px 1752px #FFF , 278px 300px #FFF , 878px 1262px #FFF , 1287px 1198px #FFF , 85px 1729px #FFF , 987px 1169px #FFF , 1375px 403px #FFF , 1863px 371px #FFF , 1940px 1143px #FFF , 214px 1079px #FFF , 195px 659px #FFF , 1821px 1051px #FFF , 1327px 976px #FFF , 1074px 331px #FFF , 115px 1015px #FFF , 765px 604px #FFF , 661px 1692px #FFF , 185px 1408px #FFF , 1318px 1081px #FFF , 102px 960px #FFF , 1370px 866px #FFF , 1337px 961px #FFF , 1204px 521px #FFF , 366px 532px #FFF , 575px 152px #FFF , 602px 695px #FFF , 1525px 364px #FFF , 736px 111px #FFF , 1768px 454px #FFF , 1904px 396px #FFF; animation: animStar 18s linear infinite; }
        .stars3 { width: 4px; height: 4px; background: transparent; box-shadow: 174px 505px #FFF , 1075px 1621px #FFF , 541px 1211px #FFF , 1526px 1190px #FFF , 1104px 640px #FFF , 961px 1643px #FFF , 1337px 1459px #FFF , 595px 386px #FFF , 1933px 1414px #FFF , 30px 218px #FFF , 328px 908px #FFF , 1582px 277px #FFF , 1099px 164px #FFF , 571px 964px #FFF , 1458px 1415px #FFF , 807px 547px #FFF , 1077px 418px #FFF , 1232px 177px #FFF , 1735px 1318px #FFF , 1307px 881px #FFF , 1922px 274px #FFF , 631px 948px #FFF , 845px 1600px #FFF , 39px 46px #FFF , 1206px 830px #FFF; animation: animStar 10s linear infinite; }
        
        @keyframes animStar { from { transform: translateY(0px); } to { transform: translateY(-2000px); } }

        /* --- ÿßŸÑÿ®ÿ∑ÿßŸÇÿ© ÿßŸÑÿ≤ÿ¨ÿßÿ¨Ÿäÿ© --- */
        .glass-card {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 30px;
            width: 90%;
            max-width: 800px;
            display: flex;
            overflow: hidden;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.6);
            animation: cardEntrance 1s cubic-bezier(0.2, 0.8, 0.2, 1) forwards;
            z-index: 10;
        }

        .profile-section {
            flex: 0.8;
            padding: 40px;
            border-left: 1px solid var(--glass-border);
            display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center;
            background: rgba(0,0,0,0.2);
        }

        .profile-img {
            width: 100px; height: 100px; border-radius: 50%; object-fit: cover;
            margin-bottom: 15px; border: 2px solid rgba(255,255,255,0.2);
            animation: fadeIn 0.8s ease-out 0.5s forwards; opacity: 0;
        }

        h2.brand-name {
            color: var(--text-white); margin: 0; font-size: 1.4rem; font-weight: 600;
            animation: slideInRight 0.8s ease-out 0.6s forwards; opacity: 0;
        }
        
        p.brand-tag {
            color: var(--text-gray); font-size: 0.9rem; margin-top: 5px;
            animation: slideInRight 0.8s ease-out 0.7s forwards; opacity: 0;
        }

        .content-section {
            flex: 1.2;
            padding: 40px;
            display: flex; flex-direction: column; justify-content: center;
        }

        .event-badge {
            display: inline-block;
            background: rgba(37, 99, 235, 0.2);
            color: #60a5fa;
            border: 1px solid rgba(37, 99, 235, 0.3);
            padding: 6px 14px; border-radius: 50px; font-size: 0.85rem; width: fit-content;
            margin-bottom: 15px;
            animation: fadeIn 0.8s ease-out 0.8s forwards; opacity: 0;
        }

        h1.event-title {
            color: var(--text-white); font-size: 1.6rem; font-weight: 700; margin: 0 0 15px 0; line-height: 1.4;
            animation: fadeIn 0.8s ease-out 0.9s forwards; opacity: 0;
        }

        .event-details {
            color: var(--text-gray); font-size: 0.95rem; line-height: 1.7; margin-bottom: 20px;
            white-space: pre-line;
            animation: fadeIn 0.8s ease-out 1s forwards; opacity: 0;
        }

        /* --- ÿµŸÜÿØŸàŸÇ ÿßŸÑÿ±ÿßÿ®ÿ∑ ÿßŸÑÿ¨ÿØŸäÿØ (CoolInput Style) --- */
        .link-container {
            margin-bottom: 25px;
            text-align: right;
            display: none; /* ŸÖÿÆŸÅŸä ÿßŸÅÿ™ÿ±ÿßÿ∂ŸäÿßŸãÿå Ÿäÿ∏Ÿáÿ± ÿ®ÿßŸÑŸÄ JS */
            animation: fadeIn 0.8s ease-out 1.1s forwards; opacity: 0;
        }
        
        .link-label {
            display: block; color: var(--text-gray); font-size: 0.85rem; margin-bottom: 8px; font-weight: 600;
            display: flex; align-items: center; gap: 5px;
        }

        .coolinput-box {
            display: flex; align-items: center;
            background: rgba(0, 0, 0, 0.4);
            border: 1px solid var(--glass-border);
            border-radius: 12px;
            padding: 5px;
            transition: all 0.3s;
            box-shadow: inset 0 2px 5px rgba(0,0,0,0.5);
        }
        
        .coolinput-box:focus-within { border-color: var(--accent); box-shadow: 0 0 10px rgba(37, 99, 235, 0.2); }

        .link-input {
            flex: 1; background: transparent; border: none; color: var(--text-white);
            padding: 12px; font-family: inherit; font-size: 0.9rem; outline: none;
            overflow: hidden; text-overflow: ellipsis; direction: ltr;
        }

        .copy-btn {
            background: var(--accent); color: white; border: none;
            padding: 10px 18px; border-radius: 8px; cursor: pointer;
            font-size: 0.85rem; font-weight: 600; transition: 0.2s;
            display: flex; align-items: center; gap: 6px;
            margin-left: 4px; /* ŸÖÿ≥ÿßŸÅÿ© ÿµÿ∫Ÿäÿ±ÿ© */
        }
        
        .copy-btn:hover { background: #1d4ed8; transform: scale(1.05); }
        .copy-btn:active { transform: scale(0.95); }

        /* --- ÿßŸÑÿ£ÿ≤ÿ±ÿßÿ± --- */
        .links-grid {
            display: flex; flex-direction: column; gap: 12px;
            animation: fadeIn 0.8s ease-out 1.2s forwards; opacity: 0;
        }

        .link-pill {
            display: flex; align-items: center; justify-content: center; gap: 10px;
            background: rgba(255,255,255,0.05); border: 1px solid var(--glass-border);
            padding: 14px 20px; border-radius: 50px; text-decoration: none;
            color: var(--text-white); font-size: 1rem; font-weight: 600;
            transition: all 0.3s; cursor: pointer;
        }

        .link-pill:hover {
            background: rgba(255,255,255,0.15); border-color: rgba(255,255,255,0.4); transform: translateY(-2px);
        }
        
        .link-pill i { font-size: 1.2rem; }
        .google-icon { color: #ea4335; }
        .apple-icon { color: #fff; }

        .footer {
            margin-top: 30px; font-size: 0.75rem; color: #555; text-align: center;
            animation: fadeIn 0.8s ease-out 1.5s forwards; opacity: 0;
        }

        @keyframes cardEntrance { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes fadeIn { to { opacity: 1; } }
        @keyframes slideInRight { from { opacity: 0; transform: translateX(20px); } to { opacity: 1; transform: translateX(0); } }

        @media (max-width: 768px) {
            .glass-card { flex-direction: column; width: 90%; max-height: 90vh; overflow-y: auto; }
            .profile-section { padding: 30px; border-left: none; border-bottom: 1px solid var(--glass-border); flex: 0; }
            .content-section { padding: 30px; }
            h1.event-title { font-size: 1.4rem; }
        }
    </style>
</head>
<body>

    <div class="star-field">
        <div class="stars1"></div> <div class="stars2"></div> <div class="stars3"></div>
    </div>

    <div class="glass-card">
        <div class="profile-section">
            <img src="logo.png" alt="ÿßŸÑÿØŸäŸàÿßŸÜ ÿßŸÑÿ¨ÿßŸÖÿπŸä" class="profile-img">
            <h2 class="brand-name">ÿßŸÑÿØŸäŸàÿßŸÜ ÿßŸÑÿ¨ÿßŸÖÿπŸä</h2>
            <p class="brand-tag">ÿ™ÿ∞ŸÉŸäÿ± ÿ®ÿßŸÑŸÖŸàÿßÿπŸäÿØ ÿßŸÑŸáÿßŸÖÿ© üìÖ</p>
        </div>

        <div class="content-section">
            <div id="dateBadge" class="event-badge">--/--/----</div>
            <h1 id="eventTitle" class="event-title">ÿ¨ÿßÿ±Ÿä ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ≠ÿØÿ´...</h1>
            
            <div class="link-container" id="linkContainer">
                <label class="link-label">
                    <i class="fa-solid fa-link" style="font-size:0.8rem;"></i> ÿ±ÿßÿ®ÿ∑ ÿßŸÑŸÑŸÇÿßÿ° / ÿßŸÑÿßÿ¨ÿ™ŸÖÿßÿπ
                </label>
                <div class="coolinput-box">
                    <input type="text" id="meetingLink" class="link-input" readonly value="">
                    <button class="copy-btn" onclick="copyLink()">
                        <i class="fa-regular fa-copy"></i> ŸÜÿ≥ÿÆ
                    </button>
                </div>
            </div>

            <div id="eventDesc" class="event-details">Ÿäÿ±ÿ¨Ÿâ ÿßŸÑÿßŸÜÿ™ÿ∏ÿßÿ± ŸÇŸÑŸäŸÑÿßŸã...</div>

            <div class="links-grid">
                <a id="googleBtn" class="link-pill" target="_blank">
                    <i class="fa-brands fa-google google-icon"></i>
                    <span>ÿ•ÿ∂ÿßŸÅÿ© ŸÑÿ™ŸÇŸàŸäŸÖ Google</span>
                </a>
                
                <a id="appleBtn" class="link-pill">
                    <i class="fa-brands fa-apple apple-icon"></i>
                    <span>ÿ•ÿ∂ÿßŸÅÿ© ŸÑÿ™ŸÇŸàŸäŸÖ Apple</span>
                </a>
            </div>

            <div class="footer">ÿ¨ŸÖŸäÿπ ÿßŸÑÿ≠ŸÇŸàŸÇ ŸÖÿ≠ŸÅŸàÿ∏ÿ© ¬© ÿßŸÑÿØŸäŸàÿßŸÜ ÿßŸÑÿ¨ÿßŸÖÿπŸä 2026</div>
        </div>
    </div>

    <script>
        function getQueryParam(param) {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(param);
        }

        const title = getQueryParam('title') || 'ŸÖŸàÿπÿØ ÿßŸÑÿØŸäŸàÿßŸÜ ÿßŸÑÿ¨ÿßŸÖÿπŸä';
        const start = getQueryParam('start');
        const end = getQueryParam('end');
        let desc = getQueryParam('desc') || '';

        document.getElementById('eventTitle').innerText = title;

        // === ÿßŸÑÿ∞ŸÉÿßÿ°: ÿßÿ≥ÿ™ÿÆÿ±ÿßÿ¨ ÿßŸÑÿ±ÿßÿ®ÿ∑ Ÿàÿ™ŸÜÿ∏ŸäŸÅ ÿßŸÑŸÜÿµ ===
        const urlRegex = /(https?:\/\/[^\s]+)/;
        const linkMatch = desc.match(urlRegex);

        if(linkMatch) {
            // 1. ÿ•ÿ∏Ÿáÿßÿ± ÿßŸÑÿµŸÜÿØŸàŸÇ Ÿàÿ™ÿπÿ®ÿ¶ÿ™Ÿá
            const link = linkMatch[0];
            document.getElementById('linkContainer').style.display = 'block';
            document.getElementById('meetingLink').value = link;
            
            // 2. ÿ≠ÿ∞ŸÅ ÿßŸÑÿ±ÿßÿ®ÿ∑ ŸÖŸÜ ŸÜÿµ ÿßŸÑŸàÿµŸÅ (ÿπÿ¥ÿßŸÜ ŸÖÿß Ÿäÿ™ŸÉÿ±ÿ±)
            desc = desc.replace(link, '').trim();
        }

        document.getElementById('eventDesc').innerText = desc;

        // ÿ™ŸÜÿ≥ŸäŸÇ ÿßŸÑÿ™ÿßÿ±ŸäÿÆ
        if(start) {
            const year = start.substring(0,4);
            const month = start.substring(4,6);
            const day = start.substring(6,8);
            const hour = start.substring(9,11);
            const min = start.substring(11,13);
            
            let h = parseInt(hour);
            let ampm = h >= 12 ? 'ŸÖ' : 'ÿµ';
            h = h % 12; h = h ? h : 12; 

            document.getElementById('dateBadge').innerText = `${day}/${month}/${year} ‚Ä¢ ${h}:${min} ${ampm}`;
        } else {
            document.getElementById('dateBadge').style.display = 'none';
        }

        // ÿ±Ÿàÿßÿ®ÿ∑ ÿßŸÑÿ™ŸÇŸàŸäŸÖ
        const googleUrl = `https://calendar.google.com/calendar/render?action=TEMPLATE&text=${encodeURIComponent(title)}&dates=${start}/${end}&details=${encodeURIComponent(desc)}`;
        document.getElementById('googleBtn').href = googleUrl;

        document.getElementById('appleBtn').onclick = function() {
            const cleanDesc = desc.replace(/\n/g, '\\n');
            const icsContent = `BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//Aldiwan//NONSGML Event//EN
BEGIN:VEVENT
UID:${Date.now()}@aldiwan.dev
DTSTAMP:${start}Z
DTSTART:${start}Z
DTEND:${end}Z
SUMMARY:${title}
DESCRIPTION:${cleanDesc}
END:VEVENT
END:VCALENDAR`;

            const blob = new Blob([icsContent], { type: 'text/calendar;charset=utf-8' });
            const link = document.createElement('a');
            link.href = window.URL.createObjectURL(blob);
            link.setAttribute('download', 'event.ics');
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        };

        // ÿØÿßŸÑÿ© ŸÜÿ≥ÿÆ ÿßŸÑÿ±ÿßÿ®ÿ∑
        function copyLink() {
            const copyText = document.getElementById("meetingLink");
            copyText.select();
            copyText.setSelectionRange(0, 99999); 
            navigator.clipboard.writeText(copyText.value);
            
            const btn = document.querySelector('.copy-btn');
            const originalHTML = btn.innerHTML;
            
            btn.innerHTML = '<i class="fa-solid fa-check"></i> ÿ™ŸÖ!';
            btn.style.background = '#10b981'; // ÿ£ÿÆÿ∂ÿ± ŸÑŸÑŸÜÿ¨ÿßÿ≠
            
            setTimeout(() => {
                btn.innerHTML = originalHTML;
                btn.style.background = 'var(--accent)';
            }, 2000);
        }
    </script>
</body>
</html>
